package pouring

import org.junit.Test
import kotlin.test.assertEquals
import kotlin.test.assertFalse
import kotlin.test.assertTrue

class GlassTest {

    // step 03
    @Test
    fun `a Glass should have capacity and current`() {
        val glass = Glass(4, 2)
        assertEquals(4, glass.capacity, "capacity")
        assertEquals(2, glass.current, "current")
    }

    // step 03
    @Test
    fun `a Glass should have valid equals() method`() {
        assertEquals(Glass(4, 2), Glass(4, 2))
    }

    // step 04
    @Test
    fun `a Glass should have empty() method`() {
        val glass = Glass(4, 2)
        assertEquals(2, glass.current)

        val result = glass.empty()
        assertEquals(0, result.current)
    }

    // step 05
    @Test
    fun `a Glass should have fill() method`() {
        val glass = Glass(4, 2)
        assertEquals(2, glass.current)

        val result = glass.fill()
        assertEquals(glass.capacity, result.current)
    }


    // step 13
    @Test
    fun `a Glass should have a custom getter for missing`() {
        val glass = Glass(4, 3)

        val result = glass.missing
        assertEquals(1, result)
    }

    // step 18
    @Test
    fun `a Glass should have + operator`() {
        val glass = Glass(4, 2)

        val result = glass + 1

        assertEquals(Glass(4, 3), result)
    }

    // step 18
    @Test
    fun `a Glass should have + operator (safe)`() {
        val glass = Glass(4, 2)

        val result = glass + 5

        assertEquals(Glass(4, 4), result)
    }

    // step 18
    @Test
    fun `a Glass should have - operator`() {
        val glass = Glass(4, 2)

        val result = glass - 1

        assertEquals(Glass(4, 1), result)
    }

    // step 18
    @Test
    fun `a Glass should have - operator (safe)`() {
        val glass = Glass(4, 2)

        val result = glass - 5

        assertEquals(Glass(4, 0), result)
    }

    // step 20
//    @Test
//    fun `a Glass should have isEmpty`() {
//        assertTrue(Glass(4).isEmpty())
//        assertFalse(Glass(4,1).isEmpty())
//    }

    // step 20
//    @Test
//    fun `a Glass should have isFill`() {
//        assertFalse(Glass(4).isFill())
//        assertTrue(Glass(4,4).isFill())
//    }

    // step 21
    @Test
    fun `a Glass should have isEmpty`() {
        assertTrue(Glass(4).isEmpty)
        assertFalse(Glass(4,1).isEmpty)
    }

    // step 21
    @Test
    fun `a Glass should have isFill`() {
        assertFalse(Glass(4).isFill)
        assertTrue(Glass(4,4).isFill)
    }

}